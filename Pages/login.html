<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../asssets/css/logi.css">
   </head>
<body>

  <div class="card">
    <div class="img-1">
      <img src="" width="70">
        <h1>Saving<span>lives.</span></h1>
        </div>
    <!-- <div class="card-header">
      <div class="text-header">Login here</div>
    </div> -->
    <div class="card-body">
      <form id="log_form">
        <div class="form-group">
          <label >Email:</label>
          <input    id="userEmail" type="email" required="" >
        </div>
        <div class="form-group">
          <label >Password:</label>
          <input  id="userPassword" type="password" required=""  >
        </div>
        <br>
        <button type="submit">login</button>
       </form>
       <br>
       <div class="text">
        <p>Not yet member? <a href="./Signpage.html">Signup now</a> </p>
      </div>
    </div>
</div>
  <script>
    // form assign in var4iable 

    const logForm =document.getElementById("log_form");
    logForm.addEventListener("submit",function(event){
      event.preventDefault();

    const email =document.getElementById("userEmail").value ;
    const pass =document.getElementById("userPassword").value ;
    let users =JSON.parse(localStorage.getItem("users"))
    let object =users.find(function(user){

      let check = false;

      const objEmail =user["userEmail"];

      if(email === objEmail){
        check = true;
        if(pass === user["userPassword"]){
          check = true ;
          alert("login succesfully");
          localStorage.setItem("email",JSON.stringify(email))
          return true;
      }
       else if(pass != user["userPassword"]){
          alert("incorrect password");
        }
        return false;
      }

      if(!check){
        alert("invalid user")
        return check;
      }
      
    })
    
    

    })
  
  </script>
</body>
</html>