<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../asssets/css/profile.css">
   </head>
<body>
  <div class="box">
    <img src="https://ca.slack-edge.com/T032648LE-U0427SCB14Z-g1123f2639ef-72">
    <input type="file" name="" id="file" accept="image\*">
    <label for="file">EDIT PIC</label>
    <input type="text" name="" placeholder="User Name" id="userName">
    <input type="email" name="" placeholder="EMAIL ID" id="useremail">
    <input type="text" name="" placeholder="Phone Numer" id="">
    <input type="text" name="" placeholder="Date of Birth">
    <input type="text" name="" placeholder="address">
    <button type="submit" id="" style="float: left;margin: 10px 0 0 18.2%;">submit</button>
    <button type="delete" id="delete" style="float:right;margin: 10px 18.2% 0 0;">DONE</button>
   <br>
      


<script>

  const details =JSON.parse(localStorage.getItem("users"));
  console.log(details);
    const e_mail =JSON.parse(localStorage.getItem("email"))

   
    let object =details.find(function(event){

       if(e_mail === event["userEmail"]){
         return true;
       }
    });
    console.log(object);

    const fname = document.getElementById("userName");
    const useremail = document.getElementById("useremail");
    fname.value = object["userName"];
    useremail.value = object["userEmail"];

    const logEmail=JSON.parse(localStorage.getItem("login"));
     const userData=JSON.parse(localStorage.getItem("userData"))
     let select_user=userData.find(function(event){
   const customerEmail=event["email"]
   if(logEmail===customerEmail){
     return true;
    }
   // console.log(select_user)
    
 });
 const userName=document.getElementById("username")
 const email=document.getElementById("useremail")
    email.value=select_user["email"]
    
    userName.value=select_user["username"]
    const form=document.getElementById("proform")
   form.addEventListener("submit",function(event){
   event.preventDefault()
      let username =document.getElementById("username").value
      let email=document.getElementById("useremail").value
 let newData={
      username,email,phoneNo,password,address
     }
     const combineData=Object.assign(select_user,newData)
     console.log(combineData)
    let findIndex = userData.indexOf(select_user)
      userData[findIndex]=combineData
      localStorage.setItem("userData",JSON.stringify(userData));
      alert("successfully changed");
});
</script>  
</body>

</html>